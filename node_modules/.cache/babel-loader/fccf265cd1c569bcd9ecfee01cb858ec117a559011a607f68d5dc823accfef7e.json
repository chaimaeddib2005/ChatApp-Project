{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport LoginPage from './components/LoginPage.vue';\nimport RegisterPage from './components/RegisterPage.vue';\nimport WelcomingPage from './components/WelcomingPage.vue';\nimport HomeView from './components/HomeView.vue';\nimport ChatPage from './components/ChatPage.vue';\nconst routes = [{\n  path: '/',\n  name: 'Welcoming',\n  component: WelcomingPage\n}, {\n  path: '/register',\n  name: 'RegisterPage',\n  component: RegisterPage\n}, {\n  path: '/login',\n  component: LoginPage\n}, {\n  path: '/home',\n  name: 'Home',\n  component: HomeView\n}, {\n  path: '/chat/:chatId',\n  name: 'ChatPage',\n  component: ChatPage,\n  props: true\n}, {\n  path: '/chatList',\n  name: 'ChatList',\n  component: ChatList,\n  props: true\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n  scrollBehavior() {\n    return {\n      top: 0\n    };\n  }\n});\nimport { getAuth } from 'firebase/auth';\nrouter.beforeEach((to, from, next) => {\n  const hasVisited = localStorage.getItem('hasVisited');\n  const auth = getAuth();\n  const user = auth.currentUser;\n  if (!hasVisited && to.name !== 'Welcoming') {\n    localStorage.setItem('hasVisited', true);\n    return next({\n      name: 'Welcoming'\n    });\n  }\n  if (to.name === 'Welcoming' && user) {\n    // if already logged in, skip the welcoming page\n    return next({\n      name: 'Home'\n    });\n  }\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","LoginPage","RegisterPage","WelcomingPage","HomeView","ChatPage","routes","path","name","component","props","ChatList","router","history","process","env","BASE_URL","scrollBehavior","top","getAuth","beforeEach","to","from","next","hasVisited","localStorage","getItem","auth","user","currentUser","setItem"],"sources":["C:/Users/khadi/ChatApp-Project/src/router.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\r\nimport LoginPage from './components/LoginPage.vue';\r\nimport RegisterPage from './components/RegisterPage.vue';\r\nimport WelcomingPage from './components/WelcomingPage.vue';\r\nimport HomeView from './components/HomeView.vue';\r\nimport ChatPage from './components/ChatPage.vue';\r\nconst routes = [\r\n  { path: '/',\r\n    name: 'Welcoming', \r\n    component: WelcomingPage\r\n   },\r\n  \r\n  { path: '/register', name: 'RegisterPage',component: RegisterPage,},\r\n  { path: '/login', component:LoginPage },\r\n  {\r\n    path: '/home',\r\n    name: 'Home',\r\n    component: HomeView,\r\n  },\r\n  {\r\n    path: '/chat/:chatId',\r\n    name: 'ChatPage',\r\n    component: ChatPage,\r\n    props:true\r\n  },\r\n  {\r\n    path: '/chatList',\r\n    name: 'ChatList',\r\n    component: ChatList,\r\n    props:true\r\n  }\r\n  \r\n  \r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes,\r\n  scrollBehavior() {\r\n    return { top: 0 };\r\n  },\r\n});\r\n\r\nimport { getAuth } from 'firebase/auth';\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const hasVisited = localStorage.getItem('hasVisited');\r\n  const auth = getAuth();\r\n  const user = auth.currentUser;\r\n\r\n  if (!hasVisited && to.name !== 'Welcoming') {\r\n    localStorage.setItem('hasVisited', true);\r\n    return next({ name: 'Welcoming' });\r\n  }\r\n\r\n  if (to.name === 'Welcoming' && user) {\r\n    // if already logged in, skip the welcoming page\r\n    return next({ name: 'Home' });\r\n  }\r\n\r\n  next();\r\n});\r\nexport default router;\r\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,SAAS,MAAM,4BAA4B;AAClD,OAAOC,YAAY,MAAM,+BAA+B;AACxD,OAAOC,aAAa,MAAM,gCAAgC;AAC1D,OAAOC,QAAQ,MAAM,2BAA2B;AAChD,OAAOC,QAAQ,MAAM,2BAA2B;AAChD,MAAMC,MAAM,GAAG,CACb;EAAEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEN;AACZ,CAAC,EAEF;EAAEI,IAAI,EAAE,WAAW;EAAEC,IAAI,EAAE,cAAc;EAACC,SAAS,EAAEP;AAAa,CAAC,EACnE;EAAEK,IAAI,EAAE,QAAQ;EAAEE,SAAS,EAACR;AAAU,CAAC,EACvC;EACEM,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEL;AACb,CAAC,EACD;EACEG,IAAI,EAAE,eAAe;EACrBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEJ,QAAQ;EACnBK,KAAK,EAAC;AACR,CAAC,EACD;EACEH,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEE,QAAQ;EACnBD,KAAK,EAAC;AACR,CAAC,CAGF;AAED,MAAME,MAAM,GAAGb,YAAY,CAAC;EAC1Bc,OAAO,EAAEb,gBAAgB,CAACc,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/CV,MAAM;EACNW,cAAcA,CAAA,EAAG;IACf,OAAO;MAAEC,GAAG,EAAE;IAAE,CAAC;EACnB;AACF,CAAC,CAAC;AAEF,SAASC,OAAO,QAAQ,eAAe;AAEvCP,MAAM,CAACQ,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;EACrD,MAAMC,IAAI,GAAGR,OAAO,CAAC,CAAC;EACtB,MAAMS,IAAI,GAAGD,IAAI,CAACE,WAAW;EAE7B,IAAI,CAACL,UAAU,IAAIH,EAAE,CAACb,IAAI,KAAK,WAAW,EAAE;IAC1CiB,YAAY,CAACK,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC;IACxC,OAAOP,IAAI,CAAC;MAAEf,IAAI,EAAE;IAAY,CAAC,CAAC;EACpC;EAEA,IAAIa,EAAE,CAACb,IAAI,KAAK,WAAW,IAAIoB,IAAI,EAAE;IACnC;IACA,OAAOL,IAAI,CAAC;MAAEf,IAAI,EAAE;IAAO,CAAC,CAAC;EAC/B;EAEAe,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AACF,eAAeX,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}