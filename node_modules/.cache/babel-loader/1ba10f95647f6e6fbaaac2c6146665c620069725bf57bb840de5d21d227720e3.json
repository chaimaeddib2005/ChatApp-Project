{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport LoginPage from './components/LoginPage.vue';\nimport SignUp from './components/RegisterPage.vue';\nimport WelcomingPage from './components/WelcomingPage.vue';\nconst routes = [{\n  path: '/',\n  name: 'Home',\n  component: WelcomingPage\n}, {\n  path: '/register',\n  component: SignUp\n}, {\n  path: '/login',\n  component: LoginPage\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nimport { getAuth } from 'firebase/auth';\nrouter.beforeEach((to, from, next) => {\n  const hasVisited = localStorage.getItem('hasVisited');\n  const auth = getAuth();\n  const user = auth.currentUser;\n  if (!hasVisited && to.name !== 'Welcoming') {\n    localStorage.setItem('hasVisited', true);\n    return next({\n      name: 'Welcoming'\n    });\n  }\n  if (to.name === 'Welcoming' && user) {\n    // if already logged in, skip the welcoming page\n    return next({\n      name: 'Home'\n    });\n  }\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","LoginPage","SignUp","WelcomingPage","routes","path","name","component","router","history","getAuth","beforeEach","to","from","next","hasVisited","localStorage","getItem","auth","user","currentUser","setItem"],"sources":["C:/Users/khadi/ChatApp-Project/src/router.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\r\nimport LoginPage from './components/LoginPage.vue';\r\nimport SignUp from './components/RegisterPage.vue';\r\nimport WelcomingPage from './components/WelcomingPage.vue';\r\n\r\nconst routes = [\r\n  { path: '/',name: 'Home', component: WelcomingPage },\r\n  \r\n  { path: '/register', component: SignUp },\r\n  { path: '/login', component:LoginPage },\r\n  \r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes,\r\n});\r\n\r\nimport { getAuth } from 'firebase/auth';\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const hasVisited = localStorage.getItem('hasVisited');\r\n  const auth = getAuth();\r\n  const user = auth.currentUser;\r\n\r\n  if (!hasVisited && to.name !== 'Welcoming') {\r\n    localStorage.setItem('hasVisited', true);\r\n    return next({ name: 'Welcoming' });\r\n  }\r\n\r\n  if (to.name === 'Welcoming' && user) {\r\n    // if already logged in, skip the welcoming page\r\n    return next({ name: 'Home' });\r\n  }\r\n\r\n  next();\r\n});\r\nexport default router;\r\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,SAAS,MAAM,4BAA4B;AAClD,OAAOC,MAAM,MAAM,+BAA+B;AAClD,OAAOC,aAAa,MAAM,gCAAgC;AAE1D,MAAMC,MAAM,GAAG,CACb;EAAEC,IAAI,EAAE,GAAG;EAACC,IAAI,EAAE,MAAM;EAAEC,SAAS,EAAEJ;AAAc,CAAC,EAEpD;EAAEE,IAAI,EAAE,WAAW;EAAEE,SAAS,EAAEL;AAAO,CAAC,EACxC;EAAEG,IAAI,EAAE,QAAQ;EAAEE,SAAS,EAACN;AAAU,CAAC,CAExC;AAED,MAAMO,MAAM,GAAGT,YAAY,CAAC;EAC1BU,OAAO,EAAET,gBAAgB,CAAC,CAAC;EAC3BI;AACF,CAAC,CAAC;AAEF,SAASM,OAAO,QAAQ,eAAe;AAEvCF,MAAM,CAACG,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;EACrD,MAAMC,IAAI,GAAGR,OAAO,CAAC,CAAC;EACtB,MAAMS,IAAI,GAAGD,IAAI,CAACE,WAAW;EAE7B,IAAI,CAACL,UAAU,IAAIH,EAAE,CAACN,IAAI,KAAK,WAAW,EAAE;IAC1CU,YAAY,CAACK,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC;IACxC,OAAOP,IAAI,CAAC;MAAER,IAAI,EAAE;IAAY,CAAC,CAAC;EACpC;EAEA,IAAIM,EAAE,CAACN,IAAI,KAAK,WAAW,IAAIa,IAAI,EAAE;IACnC;IACA,OAAOL,IAAI,CAAC;MAAER,IAAI,EAAE;IAAO,CAAC,CAAC;EAC/B;EAEAQ,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AACF,eAAeN,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}